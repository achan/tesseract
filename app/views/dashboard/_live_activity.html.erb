<div id="live_activity_<%= live_activity.id %>" class="flex items-center gap-3 p-3 bg-card border border-border rounded-md"
     <% if live_activity.status == "ending" && live_activity.ends_at %>
       data-controller="countdown" data-countdown-ends-at-value="<%= live_activity.ends_at.iso8601 %>"
     <% end %>>
  <div class="relative flex-shrink-0">
    <% if live_activity.status == "active" %>
      <span class="flex h-3 w-3">
        <span class="animate-ping absolute inline-flex h-3 w-3 rounded-full bg-yellow-400 opacity-75"></span>
        <span class="relative inline-flex rounded-full h-3 w-3 bg-yellow-500"></span>
      </span>
    <% else %>
      <span class="flex h-3 w-3">
        <span class="relative inline-flex rounded-full h-3 w-3 bg-green-500"></span>
      </span>
    <% end %>
  </div>
  <div class="flex-1 min-w-0">
    <div class="flex items-center gap-2">
      <span class="text-sm font-semibold text-foreground"><%= live_activity.title %></span>
      <% if live_activity.subtitle.present? %>
        <span class="text-xs text-muted"><%= live_activity.subtitle %></span>
      <% end %>
    </div>
    <% if live_activity.metadata.present? && live_activity.metadata.any? %>
      <div class="flex items-center gap-3 mt-1">
        <% live_activity.metadata.each do |key, value| %>
          <span class="text-xs text-muted"><%= key.to_s.titleize %>: <%= value %></span>
        <% end %>
      </div>
    <% end %>
  </div>
  <div class="flex-shrink-0" data-controller="elapsed" data-elapsed-since-value="<%= live_activity.created_at.iso8601 %>">
    <span class="text-xs text-muted" data-elapsed-target="display"></span>
  </div>
</div>
