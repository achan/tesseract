<div id="<%= dom_id(event) %>" class="bg-card border border-border rounded-md px-4 py-3">
  <% channel = event.slack_channel %>
  <% workspace = channel.workspace %>
  <div class="flex items-center gap-2 text-xs text-muted mb-1">
    <span class="bg-secondary px-1.5 py-0.5 rounded text-[0.7rem]"><%= workspace.team_name %></span>
    <span class="text-muted">#<%= channel.channel_name || channel.channel_id %></span>
    <span class="font-medium text-foreground"><%= workspace.resolve_user_name(event.user_id) %></span>
    <time datetime="<%= event.created_at.iso8601 %>" class="ml-auto">
      <%= event.created_at.strftime("%b %d, %H:%M") %>
    </time>
    <% if workspace.team_id.present? && event.ts.present? %>
      <a href="slack://channel?team=<%= workspace.team_id %>&id=<%= channel.channel_id %>&message=<%= event.ts.delete(".") %>"
         class="text-primary hover:underline" title="Open in Slack">
        Slack &#x2197;
      </a>
    <% end %>
  </div>
  <% if event.payload.is_a?(Hash) && event.payload["text"].present? %>
    <div class="text-sm prose prose-sm prose-invert max-w-none"><%= render_markdown(event.payload["text"]) %></div>
  <% end %>
</div>
