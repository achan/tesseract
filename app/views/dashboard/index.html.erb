<%= turbo_stream_from "dashboard_live_activities" %>
<%= turbo_stream_from "dashboard_action_items" %>
<%= turbo_stream_from "dashboard_events" %>

<div id="dashboard_live_activities" class="space-y-2 mb-6">
  <% @live_activities.each do |activity| %>
    <%= render "dashboard/live_activity", live_activity: activity %>
  <% end %>
</div>

<% if @action_items.any? %>
  <h2 class="text-xl font-semibold mb-4">Action Items</h2>
  <div id="dashboard_action_items" class="space-y-2 mb-8">
    <% @action_items.each do |action_item| %>
      <%= render "dashboard/action_item", action_item: action_item %>
    <% end %>
  </div>
<% else %>
  <div id="dashboard_action_items" class="space-y-2 mb-8"></div>
<% end %>

<div data-controller="reply-modal" data-action="keydown@window->reply-modal#closeOnKey">
  <h1 class="text-xl font-semibold mb-6">Message Feed</h1>

  <div id="dashboard_events" class="space-y-2">
    <% @events.each do |event| %>
      <%= render "dashboard/event", event: event %>
    <% end %>
  </div>

  <%= render "dashboard/reply_modal" %>
</div>
